/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{6995:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _types=__webpack_require__(7849);Object.keys(_types).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _types[key]}})}));var _search_embeddable_factory=__webpack_require__(7850);Object.keys(_search_embeddable_factory).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _search_embeddable_factory[key]}})}));var _search_embeddable=__webpack_require__(7400);Object.keys(_search_embeddable).forEach((function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _search_embeddable[key]}})}))},7160:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSort=getSort;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function isSortable(field,indexPattern){return indexPattern.fields.getByName(field)&&indexPattern.fields.getByName(field).sortable}function createSortObject(sortPair,indexPattern){if(Array.isArray(sortPair)&&sortPair.length===2&&isSortable(sortPair[0],indexPattern)){var _sortPair=_slicedToArray(sortPair,2),field=_sortPair[0],direction=_sortPair[1];return _defineProperty({},field,direction)}else if(_lodash.default.isPlainObject(sortPair)&&isSortable(Object.keys(sortPair)[0],indexPattern)){return sortPair}else{return undefined}}function getSort(sort,indexPattern){var defaultSortOrder=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"desc";var sortObjects;if(Array.isArray(sort)){sortObjects=_lodash.default.compact(sort.map((function(sortPair){return createSortObject(sortPair,indexPattern)})))}if(!_lodash.default.isEmpty(sortObjects)){return sortObjects}else if(indexPattern.timeFieldName&&isSortable(indexPattern.timeFieldName,indexPattern)){return[_defineProperty({},indexPattern.timeFieldName,defaultSortOrder)]}else{return[{_score:"desc"}]}}getSort.array=function(sort,indexPattern,defaultSortOrder){return getSort(sort,indexPattern,defaultSortOrder).map((function(sortPair){return(0,_lodash.default)(sortPair).pairs().pop()}))}},7226:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addColumn=addColumn;exports.removeColumn=removeColumn;exports.moveColumn=moveColumn;function addColumn(columns,columnName){if(columns.includes(columnName)){return}columns.push(columnName)}function removeColumn(columns,columnName){if(!columns.includes(columnName)){return}columns.splice(columns.indexOf(columnName),1)}function moveColumn(columns,columnName,newIndex){if(newIndex<0){return}if(newIndex>=columns.length){return}if(!columns.includes(columnName)){return}columns.splice(columns.indexOf(columnName),1);columns.splice(newIndex,0,columnName)}},7227:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSortForSearchSource=getSortForSearchSource;var _get_sort=__webpack_require__(7160);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getSortForSearchSource(sort,indexPattern){if(!sort||!indexPattern){return[]}var timeFieldName=indexPattern.timeFieldName;return(0,_get_sort.getSort)(sort,indexPattern).map((function(sortPair){if(indexPattern.isTimeNanosBased()&&timeFieldName&&sortPair[timeFieldName]){return _defineProperty({},timeFieldName,{order:sortPair[timeFieldName],numeric_type:"date_nanos"})}return sortPair}))}},7400:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchEmbeddable=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var Rx=_interopRequireWildcard(__webpack_require__(37));var _i18n=__webpack_require__(2);var _public=__webpack_require__(11);var _public2=__webpack_require__(401);var columnActions=_interopRequireWildcard(__webpack_require__(7226));var _search_template=_interopRequireDefault(__webpack_require__(7851));var _get_sort_for_search_source=__webpack_require__(7227);var _kibana_services=__webpack_require__(200);var _constants=__webpack_require__(1055);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchEmbeddable=function(_Embeddable){_inherits(SearchEmbeddable,_Embeddable);function SearchEmbeddable(_ref,initialInput,executeTriggerActions,parent){var _this;var $rootScope=_ref.$rootScope,$compile=_ref.$compile,savedSearch=_ref.savedSearch,editUrl=_ref.editUrl,indexPatterns=_ref.indexPatterns,editable=_ref.editable,filterManager=_ref.filterManager;_classCallCheck(this,SearchEmbeddable);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchEmbeddable).call(this,initialInput,{defaultTitle:savedSearch.title,editUrl:editUrl,indexPatterns:indexPatterns,editable:editable},parent));_this.executeTriggerActions=executeTriggerActions;_defineProperty(_assertThisInitialized(_this),"savedSearch",void 0);_defineProperty(_assertThisInitialized(_this),"$rootScope",void 0);_defineProperty(_assertThisInitialized(_this),"$compile",void 0);_defineProperty(_assertThisInitialized(_this),"inspectorAdaptors",void 0);_defineProperty(_assertThisInitialized(_this),"searchScope",void 0);_defineProperty(_assertThisInitialized(_this),"panelTitle","");_defineProperty(_assertThisInitialized(_this),"filtersSearchSource",void 0);_defineProperty(_assertThisInitialized(_this),"searchInstance",void 0);_defineProperty(_assertThisInitialized(_this),"autoRefreshFetchSubscription",void 0);_defineProperty(_assertThisInitialized(_this),"subscription",void 0);_defineProperty(_assertThisInitialized(_this),"type",_constants.SEARCH_EMBEDDABLE_TYPE);_defineProperty(_assertThisInitialized(_this),"filterManager",void 0);_defineProperty(_assertThisInitialized(_this),"abortController",void 0);_defineProperty(_assertThisInitialized(_this),"prevTimeRange",void 0);_defineProperty(_assertThisInitialized(_this),"prevFilters",void 0);_defineProperty(_assertThisInitialized(_this),"prevQuery",void 0);_defineProperty(_assertThisInitialized(_this),"fetch",(function _callee(){var searchSource,title,description,inspectorRequest,resp;return regeneratorRuntime.async((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.searchScope){_context.next=2;break}return _context.abrupt("return");case 2:searchSource=_this.savedSearch.searchSource;if(_this.abortController)_this.abortController.abort();_this.abortController=new AbortController;searchSource.setField("size",(0,_kibana_services.getServices)().uiSettings.get("discover:sampleSize"));searchSource.setField("sort",(0,_get_sort_for_search_source.getSortForSearchSource)(_this.searchScope.sort,_this.searchScope.indexPattern));_this.inspectorAdaptors.requests.reset();title=_i18n.i18n.translate("kbn.embeddable.inspectorRequestDataTitle",{defaultMessage:"Data"});description=_i18n.i18n.translate("kbn.embeddable.inspectorRequestDescription",{defaultMessage:"This request queries Elasticsearch to fetch the data for the search."});inspectorRequest=_this.inspectorAdaptors.requests.start(title,{description:description});inspectorRequest.stats((0,_kibana_services.getRequestInspectorStats)(searchSource));searchSource.getSearchRequestBody().then((function(body){inspectorRequest.json(body)}));_this.searchScope.isLoading=true;_context.prev=14;_context.next=17;return regeneratorRuntime.awrap(searchSource.fetch({abortSignal:_this.abortController.signal}));case 17:resp=_context.sent;_this.searchScope.isLoading=false;inspectorRequest.stats((0,_kibana_services.getResponseInspectorStats)(searchSource,resp)).ok({json:resp});_this.searchScope.$apply((function(){_this.searchScope.hits=resp.hits.hits;_this.searchScope.totalHitCount=resp.hits.total}));_context.next=28;break;case 23:_context.prev=23;_context.t0=_context["catch"](14);if(!(_context.t0.name==="AbortError")){_context.next=27;break}return _context.abrupt("return");case 27:(0,_kibana_services.getServices)().toastNotifications.addError(_context.t0,{title:_i18n.i18n.translate("kbn.embeddable.errorTitle",{defaultMessage:"Error fetching data"})});case 28:case"end":return _context.stop()}}}),null,null,[[14,23]])}));_this.filterManager=filterManager;_this.savedSearch=savedSearch;_this.$rootScope=$rootScope;_this.$compile=$compile;_this.inspectorAdaptors={requests:new _kibana_services.RequestAdapter};_this.initializeSearchScope();_this.autoRefreshFetchSubscription=(0,_kibana_services.getServices)().timefilter.getAutoRefreshFetch$().subscribe(_this.fetch);_this.subscription=Rx.merge(_this.getOutput$(),_this.getInput$()).subscribe((function(){_this.panelTitle=_this.output.title||"";if(_this.searchScope){_this.pushContainerStateParamsToScope(_this.searchScope)}}));return _this}_createClass(SearchEmbeddable,[{key:"getInspectorAdapters",value:function getInspectorAdapters(){return this.inspectorAdaptors}},{key:"getSavedSearch",value:function getSavedSearch(){return this.savedSearch}},{key:"render",value:function render(domNode){if(!this.searchScope){throw new Error("Search scope not defined")}this.searchInstance=this.$compile(_search_template.default)(this.searchScope);var rootNode=_kibana_services.angular.element(domNode);rootNode.append(this.searchInstance);this.pushContainerStateParamsToScope(this.searchScope)}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(SearchEmbeddable.prototype),"destroy",this).call(this);this.savedSearch.destroy();if(this.searchInstance){this.searchInstance.remove()}if(this.searchScope){this.searchScope.$destroy();delete this.searchScope}if(this.subscription){this.subscription.unsubscribe()}if(this.autoRefreshFetchSubscription){this.autoRefreshFetchSubscription.unsubscribe()}if(this.abortController)this.abortController.abort()}},{key:"initializeSearchScope",value:function initializeSearchScope(){var _this2=this;var searchScope=this.searchScope=this.$rootScope.$new();searchScope.description=this.savedSearch.description;searchScope.inspectorAdapters=this.inspectorAdaptors;var searchSource=this.savedSearch.searchSource;var indexPattern=searchScope.indexPattern=searchSource.getField("index");var timeRangeSearchSource=searchSource.create();timeRangeSearchSource.setField("filter",(function(){if(!_this2.searchScope||!_this2.input.timeRange)return;return(0,_public.getTime)(indexPattern,_this2.input.timeRange)}));this.filtersSearchSource=searchSource.create();this.filtersSearchSource.setParent(timeRangeSearchSource);searchSource.setParent(this.filtersSearchSource);this.pushContainerStateParamsToScope(searchScope);searchScope.setSortOrder=function(sort){_this2.updateInput({sort:sort})};searchScope.addColumn=function(columnName){if(!searchScope.columns){return}indexPattern.popularizeField(columnName,1);columnActions.addColumn(searchScope.columns,columnName);_this2.updateInput({columns:searchScope.columns})};searchScope.removeColumn=function(columnName){if(!searchScope.columns){return}columnActions.removeColumn(searchScope.columns,columnName);_this2.updateInput({columns:searchScope.columns})};searchScope.moveColumn=function(columnName,newIndex){if(!searchScope.columns){return}columnActions.moveColumn(searchScope.columns,columnName,newIndex);_this2.updateInput({columns:searchScope.columns})};searchScope.filter=function _callee2(field,value,operator){var filters;return regeneratorRuntime.async((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:filters=(0,_public.generateFilters)(_this2.filterManager,field,value,operator,indexPattern.id);filters=filters.map((function(filter){return _objectSpread({},filter,{$state:{store:_public.esFilters.FilterStateStore.APP_STATE}})}));_context2.next=4;return regeneratorRuntime.awrap(_this2.executeTriggerActions(_public2.APPLY_FILTER_TRIGGER,{embeddable:_this2,filters:filters}));case 4:case"end":return _context2.stop()}}}))}}},{key:"reload",value:function reload(){this.fetch()}},{key:"pushContainerStateParamsToScope",value:function pushContainerStateParamsToScope(searchScope){var isFetchRequired=!(0,_public.onlyDisabledFiltersChanged)(this.input.filters,this.prevFilters)||!_lodash.default.isEqual(this.prevQuery,this.input.query)||!_lodash.default.isEqual(this.prevTimeRange,this.input.timeRange)||!_lodash.default.isEqual(searchScope.sort,this.input.sort||this.savedSearch.sort);searchScope.columns=this.input.columns||this.savedSearch.columns;searchScope.sort=this.input.sort||this.savedSearch.sort;searchScope.sharedItemTitle=this.panelTitle;if(isFetchRequired){this.filtersSearchSource.setField("filter",this.input.filters);this.filtersSearchSource.setField("query",this.input.query);this.fetch();this.prevFilters=this.input.filters;this.prevQuery=this.input.query;this.prevTimeRange=this.input.timeRange}}}]);return SearchEmbeddable}(_public2.Embeddable);exports.SearchEmbeddable=SearchEmbeddable},7849:function(module,exports,__webpack_require__){"use strict"},7850:function(module,exports,__webpack_require__){"use strict";function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.SearchEmbeddableFactory=void 0;var _i18n=__webpack_require__(2);var _kibana_services=__webpack_require__(200);var _public=__webpack_require__(229);var _search_embeddable=__webpack_require__(7400);var _constants=__webpack_require__(1055);function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj)}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var SearchEmbeddableFactory=function(_EmbeddableFactory){_inherits(SearchEmbeddableFactory,_EmbeddableFactory);function SearchEmbeddableFactory(executeTriggerActions,getInjector,isEditable){var _this;_classCallCheck(this,SearchEmbeddableFactory);_this=_possibleConstructorReturn(this,_getPrototypeOf(SearchEmbeddableFactory).call(this,{savedObjectMetaData:{name:_i18n.i18n.translate("kbn.discover.savedSearch.savedObjectName",{defaultMessage:"Saved search"}),type:"search",getIconForSavedObject:function getIconForSavedObject(){return"search"}}}));_this.executeTriggerActions=executeTriggerActions;_defineProperty(_assertThisInitialized(_this),"type",_constants.SEARCH_EMBEDDABLE_TYPE);_defineProperty(_assertThisInitialized(_this),"$injector",void 0);_defineProperty(_assertThisInitialized(_this),"getInjector",void 0);_defineProperty(_assertThisInitialized(_this),"isEditable",void 0);_this.$injector=null;_this.getInjector=getInjector;_this.isEditable=isEditable;return _this}_createClass(SearchEmbeddableFactory,[{key:"canCreateNew",value:function canCreateNew(){return false}},{key:"getDisplayName",value:function getDisplayName(){return _i18n.i18n.translate("kbn.embeddable.search.displayName",{defaultMessage:"search"})}},{key:"createFromSavedObject",value:function createFromSavedObject(savedObjectId,input,parent){var $injector,$compile,$rootScope,filterManager,url,editUrl,savedObject,indexPattern;return regeneratorRuntime.async((function createFromSavedObject$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.$injector){_context.next=4;break}_context.next=3;return regeneratorRuntime.awrap(this.getInjector());case 3:this.$injector=_context.sent;case 4:$injector=this.$injector;$compile=$injector.get("$compile");$rootScope=$injector.get("$rootScope");filterManager=(0,_kibana_services.getServices)().filterManager;_context.next=10;return regeneratorRuntime.awrap((0,_kibana_services.getServices)().getSavedSearchUrlById(savedObjectId));case 10:url=_context.sent;editUrl=(0,_kibana_services.getServices)().addBasePath("/app/kibana".concat(url));_context.prev=12;_context.next=15;return regeneratorRuntime.awrap((0,_kibana_services.getServices)().getSavedSearchById(savedObjectId));case 15:savedObject=_context.sent;indexPattern=savedObject.searchSource.getField("index");return _context.abrupt("return",new _search_embeddable.SearchEmbeddable({savedSearch:savedObject,$rootScope:$rootScope,$compile:$compile,editUrl:editUrl,filterManager:filterManager,editable:(0,_kibana_services.getServices)().capabilities.discover.save,indexPatterns:indexPattern?[indexPattern]:[]},input,this.executeTriggerActions,parent));case 20:_context.prev=20;_context.t0=_context["catch"](12);console.error(_context.t0);return _context.abrupt("return",new _public.ErrorEmbeddable(_context.t0,input,parent));case 24:case"end":return _context.stop()}}}),null,this,[[12,20]])}},{key:"create",value:function create(input){return regeneratorRuntime.async((function create$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new _public.ErrorEmbeddable("Saved searches can only be created from a saved object",input));case 1:case"end":return _context2.stop()}}}))}}]);return SearchEmbeddableFactory}(_public.EmbeddableFactory);exports.SearchEmbeddableFactory=SearchEmbeddableFactory},7851:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_exports__["default"]='<doc-table\n  sorting="sort"\n  columns="columns"\n  data-shared-item\n  data-title="{{sharedItemTitle}}"\n  data-description="{{description}}"\n  render-complete\n  class="panel-content"\n  filter="filter"\n  on-add-column="addColumn"\n  on-change-sort-order="setSortOrder"\n  on-move-column="moveColumn"\n  on-remove-column="removeColumn"\n  data-test-subj="embeddedSavedSearchDocTable"\n  hits="hits"\n  index-pattern="indexPattern"\n  total-hit-count="totalHitCount"\n  is-loading="isLoading"\n>\n</doc-table>\n'}}]);